{
	# [개발용] 로컬 HTTPS 테스트를 위한 자체 서명 인증서 (운영 배포 시 주석 처리하거나 삭제하세요!)
	local_certs

	# [운영용] 실제 도메인 사용 시 아래 주석을 풀고 이메일을 적어주세요 (Let's Encrypt SSL 자동 발급용)
	# email contact@your-domain.com
}

# ======================================================================
# 1. Main API Service
# [배포 팁] http://localhost 대신 실제 도메인(예: api.example.com)으로 변경하세요.
# Caddy가 자동으로 HTTPS(443) 인증서를 발급해줍니다.
# ======================================================================
http://localhost {
	reverse_proxy api:3000
}

# ======================================================================
# 2. Grafana Dashboard (Visualization)
# [배포 팁] 예: monitor.example.com
# ======================================================================
http://localhost:3003 {
	reverse_proxy grafana:3000
}

# ======================================================================
# 3. Prometheus (Metrics DB)
# [배포 팁] 예: metrics.example.com
# ※ 주의: 운영 환경에서는 외부 노출을 막거나 basicauth를 설정하는 것이 좋습니다.
# ======================================================================
http://localhost:9091 {
	reverse_proxy prometheus:9090
}
